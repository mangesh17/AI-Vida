# Redis Configuration for HIPAA Compliance

# Network and Security
bind 127.0.0.1
protected-mode yes
port 6379

# Authentication
requirepass development_redis_password
# In production, use a strong password from Secret Manager

# Persistence and Logging
dir /data
dbfilename aivida-redis.rdb
save 900 1
save 300 10
save 60 10000

# Logging
loglevel notice
logfile /data/redis.log
syslog-enabled yes
syslog-ident redis

# Memory Management
maxmemory 1gb
maxmemory-policy allkeys-lru

# Security
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command KEYS ""
rename-command CONFIG "CONFIG_abc123def456ghi789"
rename-command DEBUG ""
rename-command EVAL ""

# TLS (for production)
# port 0
# tls-port 6380
# tls-cert-file /path/to/redis.crt
# tls-key-file /path/to/redis.key
# tls-ca-cert-file /path/to/ca.crt
# tls-protocols "TLSv1.2 TLSv1.3"
